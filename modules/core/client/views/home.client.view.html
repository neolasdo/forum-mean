<section ng-controller="HomeController as vm" class="main">
    <div class="row">
        <div class="col-md-3">
            <div class="panel panel-default">
                <div class="panel-body" style="padding: 10px 5px">
                    <div class="row">
                        <div class="col-xs-4">
                            <img ng-src="{{vm.auth.user.profileImageURL}}" class="img-thumbnail" alt="{{vm.auth.user.displayName}}" width="100%" style="width: 100%; max-height:230px">
                        </div>
                        <div class="info col-xs-8">
                            <p style="font-size: 20px"><a href="/settings/profile">Hi, {{vm.auth.user.displayName}}</a></p>
                            <p>{{vm.auth.user.roles === 'student'? 'Học viên': 'Giáo viên'}}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">Lớp học của tôi <button ng-if="vm.auth.user.roles == 'teacher'" style="border: 0; background: none" ng-click="vm.addGroup()" class="pull-right"><span class="fa fa-plus"></span></button></h3>
                </div>
                <div class="panel-body" style="padding: 0">
                    <div ng-repeat="group in vm.myGroups|orderBy:'createdAt'|limitTo: vm.myLength">
                        <ul class="list-group"  style="margin-bottom: 0">
                            <a ng-href="/group/{{group._id}}" class="list-group-item" style="border-radius: 0">{{group.groupName}}</a>
                        </ul>
                    </div>
                    <ul class="list-group"  style="margin-bottom: 0" ng-if="!vm.myGroups.length">
                        <li class="list-group-item">Bạn chưa có lớp học nào!</li>
                    </ul>
                    <div class="see-more" ng-if="vm.myGroups.length > 7" style="display: block;padding: 10px 15px; cursor: pointer" ng-click="vm.showAllMyGroup()">
                        <div ng-if="!vm.showAllMy">Xem tất cả <span class="fa  fa-chevron-down pull-right" style="background: none;border: none;"></span></div>
                        <div ng-if="vm.showAllMy">Thu gọn <span class="fa fa-chevron-up pull-right" style="background: none;border: none;"></span></div>
                    </div>
                </div>
            </div>
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">Lớp học đã tham dự</h3>
                </div>
                <div class="panel-body" style="padding: 0">
                    <div ng-repeat="group in vm.groupJoined|orderBy:'createdAt'|limitTo: vm.joinedLength">
                        <ul class="list-group"  style="margin-bottom: 0">
                            <a ng-href="/group/{{group._id}}" class="list-group-item" style="border-radius: 0">{{group.groupName}}</a>
                        </ul>
                    </div>
                    <ul class="list-group"  style="margin-bottom: 0" ng-if="!vm.groupJoined.length">
                        <li class="list-group-item">Bạn chưa tham gia lớp học nào!</li>
                    </ul>
                    <div class="see-more" ng-if="vm.groupJoined.length > 7" style="display: block;padding: 10px 15px; cursor: pointer" ng-click="vm.showAllJoinedGroup()">
                        <div ng-if="!vm.showAllJoined">Xem tất cả <span class="fa  fa-chevron-down pull-right" style="background: none;border: none;"></span></div>
                        <div ng-if="vm.showAllJoined">Thu gọn <span class="fa fa-chevron-up pull-right" style="background: none;border: none;"></span></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h3 class="panel-title">Panel title</h3>
                </div>
                <div class="panel-body">
                    Panel body ...
                </div>
            </div>
        </div>
        <div class="col-md-1">

        </div>
    </div>
</section>
